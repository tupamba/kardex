<div class="main-content">
    <div class="main-content">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-12">
                    <div class="card">
                        <div class="card-header" data-background-color="red">
                            <h4 class="title">Paciente</h4>
                            <p class="category">Datos del paciente</p>
                        </div>
                        <form (ngSubmit)="onSubmit()" #patientForm="ngForm">
                            <div class="card-content">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="form-group form-black">
                                            <label class="control-label">Documento</label>
                                            <input type="text" class="form-control" id="document" required [(ngModel)]="model.document" name="document" readonly>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group form-black">
                                            <label class="control-label">Nombre</label>
                                            <input type="text" class="form-control" id="firstname" required [(ngModel)]="model.firstName" name="firstname">
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group form-black">
                                            <label class="control-label">Apellido</label>
                                            <input type="text" class="form-control" id="lastname" required [(ngModel)]="model.lastName" name="lastname">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-3">
                                        <div class="form-group form-black label-floating">
                                            <label class="control-label">Fecha nacimiento</label>
                                            <my-date-picker [options]="myDatePickerOptions" (dateChanged)="onDateChanged($event)" placeholder="Ingrese la fecha" id="birthDate"
                                                required [(ngModel)]="model.birthDate" name="birthDate"></my-date-picker>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group form-black label-floating">
                                            <label class="control-label">Ingresar Sexo.</label>
                                            <dropdown-generic [listDrop]='sexs' (selectItem)="handleSelectSex($event)"></dropdown-generic>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group form-black label-floating">
                                            <a href="" (click)="viewStudio = !viewStudio" class="dropdown-toggle" data-toggle="dropdown">
                                                        <i class="fa fa-plus-square" aria-hidden="true"></i>Agregar estudio
                                                    </a>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group form-black label-floating">
                                            <a href="" (click)="viewControl = !viewControl" class="dropdown-toggle" data-toggle="dropdown">
                                                    <i [ngClass]="{'fa-plus-square':!viewControl,'fa-minus-circle':viewControl}" class="fa" aria-hidden="true"></i>Agregar control
                                                </a>
                                        </div>
                                    </div>
                                </div>
                                <div class="row" *ngIf="viewControl">
                                    <div class="col-md-12">
                                        <div class="form-group form-black label-floating">
                                            <app-patient-control (controlOut)="handleControl($event)"></app-patient-control>
                                        </div>
                                    </div>
                                </div>
                                <div class="row" *ngIf="model.controls && model.controls.length > 0">
                                    <div class="col-md-12">
                                        <div class="form-group form-black label-floating">
                                            <app-control-list [ListControls]="model.controls"></app-control-list>
                                        </div>
                                    </div>
                                </div>
                                <div class="row" *ngIf="viewStudio">
                                    <div class="col-md-12">
                                        <div class="form-group form-black label-floating">
                                            <app-studio-add (studio)="handleStudio($event)"></app-studio-add>
                                        </div>
                                    </div>
                                </div>
                                <div class="row" *ngIf="model.studios && model.studios.length > 0">
                                    <div class="col-md-12">
                                        <div class="form-group form-black label-floating">
                                            <app-studio-list [Document]="model.document" [ListStudio]="model.studios"></app-studio-list>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-black label-floating">
                                            <label class="control-label">Preferencias</label>
                                            <textarea class="form-control danger" id="preference" [(ngModel)]="model.preferens.data" name="preference"></textarea>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-black label-floating">
                                            <label class="control-label">Rechazos</label>
                                            <textarea class="form-control danger" id="reject" [(ngModel)]="model.rejections.data" name="reject"></textarea>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-black label-floating">
                                            <button type="button" class="btn">Historial</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                                <button type="submit" class="btn btn-success" [disabled]="!patientForm.form.valid">Modificar</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>